TODO LIST -*- mode: org; -*-

A mixture of things to do, and things which might be nice to do.  Order is
arbitrary. Check https://internal.fmrib.ox.ac.uk/i-wiki/Analysis/Todos/FSLView
regularly, too.

* Bugs to fix
** DONE Fix cursors - they go off the canvas in some cases
** DONE LightBoxCanvas bounding box calculation is broken again.
** DONE SliceCanvas bounding box calculation is also broken again.
** DONE Fix mouse tracking (voxel changes)
** DONE Transformation matrix recursion is happening again, for Ludo's file with the bad affine.
** Selected image sync between all the control panels is a bit iffy
** Cursor location on lightboxcanvas, when Z is not the depth axis
** Min z distance on lightboxcanvas not working?
** Non-FSLView tools are broken due to fsl.py Panel->Frame changes
* Little things
** Wild cards in image file load
** DONE Truncate long filenames in image list panel.
** Make range widget limit buttons expand properly. Ugh. Works fine under linux. This looks like an OSX Mavericks bug.
** DONE Labels for individual bound/point widget sliders.
** DONE Vertically center widget property labels.
** DONE Fix image bounds calculation (for images with dodgy affines)
** DONE Constraint listener on Lists which is notified of changes to constraints on any of the items in the list
** Ability to edit image affine transformation.
** Orientation labels on slice canvas.
** DONE 'Add standard'/'Add Atlas' menu options.
** DONE Update LightBoxCanvas properties - check out funny behaviour in ncols.
** DONE Pan in LightBoxCanvas, so currently selected location is always on screen.
** DONE Min distance for LightBoxCanvas.zrange.
** DONE If image files were specified on the command line, make sure the open file dialog defaults to one of their paths.
** DONE Float formatting on range slider buttons
** DONE Enable/disable ImageList<->Canvas position sync - 'link' property on slice canvas/orthopanel, or something.
** SliceCanvas initial location set from image list
** Add a 'mutable' attribute (not constraint) to List properties?
* Medium things
** more features on image list panel - e.g. double click to show/hide, 'link' checkbox, 'lock' checkbox, edit image name..
** DONE location panel (information about currently selected location) - add a 'location' property to the imagelist so we can link across different views.
** DONE Location selection on LightBoxCanvas.
** change image dimension ordering
** link display properties across images
** DONE separate out props and gui packages - they should really be separate projects
** mouse-based zooming in ortho panel
** DONE Make slice canvas bounding box calculation more intelligent when zoom > 1.
** Image export/offscreen rendering.
** IN PROGRESS Command line interface - build into props package?
** UI design
** WONTFIX Rewrite GL storage/rendering
 - Calculate the proper coordinates of a real-world Z slice through the
   image. Actually, this is quite a complicated problem, and I'm not sure
   whether it's worth doing. It's really just to support images with bad
   affine transformations.

** Custom colour maps from original FSLView
* Big things
** Test suite for props package
** slice-wise (instead of image-wise) glimagedata implementation for very large images.
** Code audit - enforce conistent standards for public/private class members
** IN PROGRESS Standard for code documentation - Sphinx.
** OpenGL 1.4 implementation - required for running over SSH/VNC.
** time series plotting option
** DONE have multiple views open - look at wxAUI.
** image editing (e.g. selecting, erasing, filling, mask creation)
** Surface display
* Other ideas
** (Saad). Select regions by colour, for editing purposes
** (Eugene). Perhaps some useful viewing functionality would be a helper viewer to explore high-level (gfeat) analyses directories - simple browsing tools for quickly loading and unloading stats files, contrasts etc.  Then it might move to be able to link to lower level dirs.  Pretty much like a viewer version of the webpage reports.
** (Mark). That colourmaps for label images (e.g. HarvardOxford subcortical) uses the display range info rather than totally ignores it.  I'd like to be able to threshold away some structures using the display range, but at the moment that cannot be done.
** (Mark). The ability to have separate display ranges for different volumes in one 4D image (maybe only when automatically calculated?) which would be especially useful for diffusion series where the b=0 images are way brighter than the others when using the same display range.
